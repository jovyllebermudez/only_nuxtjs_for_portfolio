import{_ as Er,C as Or,s as de,m as Sr,O as Tr}from"./entry.aa7f3442.js";import{u as Rr,h as Ar}from"./index.9f919d55.js";const xr=typeof navigator>"u"?!1:navigator.product==="ReactNative",Qt={timeout:xr?6e4:12e4};function Fr(t){const e=typeof t=="string"?Object.assign({url:t},Qt):Object.assign({},Qt,t),r=new URL(e.url,"http://localhost");if(e.timeout=Te(e.timeout),e.query){for(const[n,s]of Object.entries(e.query))if(s!==void 0)if(Array.isArray(s))for(const i of s)r.searchParams.append(n,i);else r.searchParams.append(n,s)}return e.method=e.body&&!e.method?"POST":(e.method||"GET").toUpperCase(),e.url=r.origin==="http://localhost"?"".concat(r.pathname,"?").concat(r.searchParams):r.toString(),e}function Te(t){if(t===!1||t===0)return!1;if(t.connect||t.socket)return t;const e=Number(t);return isNaN(e)?Te(Qt.timeout):{connect:e,socket:e}}const qr=/^https?:\/\//i;function kr(t){if(!qr.test(t.url))throw new Error('"'.concat(t.url,'" is not a valid URL'))}var Bt=function(t){return t.replace(/^\s+|\s+$/g,"")},Pr=function(t){return Object.prototype.toString.call(t)==="[object Array]"},Mr=function(t){if(!t)return{};for(var e={},r=Bt(t).split(`
`),n=0;n<r.length;n++){var s=r[n],i=s.indexOf(":"),o=Bt(s.slice(0,i)).toLowerCase(),c=Bt(s.slice(i+1));typeof e[o]>"u"?e[o]=c:Pr(e[o])?e[o].push(c):e[o]=[e[o],c]}return e},Ir=t=>function(r,n){const s=r==="onError";let i=n;for(var o=arguments.length,c=new Array(o>2?o-2:0),u=2;u<o;u++)c[u-2]=arguments[u];for(let d=0;d<t[r].length;d++){const a=t[r][d];if(i=a(i,...c),s&&!i)break}return i};function $r(){const t=Object.create(null);let e=0;function r(s){const i=e++;return t[i]=s,function(){delete t[i]}}function n(s){for(const i in t)t[i](s)}return{publish:n,subscribe:r}}const Dr=["request","response","progress","error","abort"],he=["processOptions","validateOptions","interceptRequest","finalizeOptions","onRequest","onResponse","onError","onReturn","onHeaders"];function Re(t,e){const r=[],n=he.reduce((i,o)=>(i[o]=i[o]||[],i),{processOptions:[Fr],validateOptions:[kr]});function s(i){const o=Dr.reduce((v,h)=>(v[h]=$r(),v),{}),c=Ir(n),u=c("processOptions",i);c("validateOptions",u);const d={options:u,channels:o,applyMiddleware:c};let a=null;const l=o.request.subscribe(v=>{a=e(v,(h,p)=>m(h,p,v))});o.abort.subscribe(()=>{l(),a&&a.abort()});const f=c("onReturn",o,d);return f===o&&o.request.publish(d),f;function m(v,h,p){let w=v,b=h;if(!w)try{b=c("onResponse",h,p)}catch(g){b=null,w=g}w=w&&c("onError",w,p),w?o.error.publish(w):b&&o.response.publish(b)}}return s.use=function(o){if(!o)throw new Error("Tried to add middleware that resolved to falsey value");if(typeof o=="function")throw new Error("Tried to add middleware that was a function. It probably expects you to pass options to it.");if(o.onReturn&&n.onReturn.length>0)throw new Error("Tried to add new middleware with `onReturn` handler, but another handler has already been registered for this event");return he.forEach(c=>{o[c]&&n[c].push(o[c])}),r.push(o),s},s.clone=function(){return Re(r,e)},t.forEach(s.use),s}var Ae=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},A=(t,e,r)=>(Ae(t,e,"read from private field"),r?r.call(t):e.get(t)),tt=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},B=(t,e,r,n)=>(Ae(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),yt,gt,V,mt,q;class jr{constructor(){this.readyState=0,this.responseType="",tt(this,yt,void 0),tt(this,gt,void 0),tt(this,V,void 0),tt(this,mt,{}),tt(this,q,void 0)}open(e,r,n){B(this,yt,e),B(this,gt,r),B(this,V,""),this.readyState=1,this.onreadystatechange(),B(this,q,void 0)}abort(){A(this,q)&&A(this,q).abort()}getAllResponseHeaders(){return A(this,V)}setRequestHeader(e,r){A(this,mt)[e]=r}send(e){const r=this.responseType!=="arraybuffer",n={method:A(this,yt),headers:A(this,mt),body:e};typeof AbortController=="function"&&(B(this,q,new AbortController),typeof EventTarget<"u"&&A(this,q).signal instanceof EventTarget&&(n.signal=A(this,q).signal)),typeof document<"u"&&(n.credentials=this.withCredentials?"include":"omit"),fetch(A(this,gt),n).then(s=>(s.headers.forEach((i,o)=>{B(this,V,A(this,V)+"".concat(o,": ").concat(i,`\r
`))}),this.status=s.status,this.statusText=s.statusText,this.readyState=3,r?s.text():s.arrayBuffer())).then(s=>{typeof s=="string"?this.responseText=s:this.response=s,this.readyState=4,this.onreadystatechange()}).catch(s=>{var i;if(s.name==="AbortError"){this.onabort();return}(i=this.onerror)==null||i.call(this,s)})}}yt=new WeakMap;gt=new WeakMap;V=new WeakMap;mt=new WeakMap;q=new WeakMap;const Xt=typeof XMLHttpRequest=="function"?"xhr":"fetch",Ur=Xt==="xhr"?XMLHttpRequest:jr;var Wr=(t,e)=>{const r=t.options,n=t.applyMiddleware("finalizeOptions",r),s={},i=t.applyMiddleware("interceptRequest",void 0,{adapter:Xt,context:t});if(i){const g=setTimeout(e,0,null,i);return{abort:()=>clearTimeout(g)}}let o=new Ur;const c=n.headers,u=n.timeout;let d=!1,a=!1,l=!1;if(o.onerror=g=>{p(new Error("Request error while attempting to reach ".concat(n.url).concat(g.lengthComputable?"(".concat(g.loaded," of ").concat(g.total," bytes transferred)"):"")))},o.ontimeout=g=>{p(new Error("Request timeout while attempting to reach ".concat(n.url).concat(g.lengthComputable?"(".concat(g.loaded," of ").concat(g.total," bytes transferred)"):"")))},o.onabort=()=>{h(!0),d=!0},o.onreadystatechange=()=>{v(),!(d||o.readyState!==4)&&o.status!==0&&b()},o.open(n.method,n.url,!0),o.withCredentials=!!n.withCredentials,c&&o.setRequestHeader)for(const g in c)c.hasOwnProperty(g)&&o.setRequestHeader(g,c[g]);return n.rawBody&&(o.responseType="arraybuffer"),t.applyMiddleware("onRequest",{options:n,adapter:Xt,request:o,context:t}),o.send(n.body||null),u&&(s.connect=setTimeout(()=>m("ETIMEDOUT"),u.connect)),{abort:f};function f(){d=!0,o&&o.abort()}function m(g){l=!0,o.abort();const O=new Error(g==="ESOCKETTIMEDOUT"?"Socket timed out on request to ".concat(n.url):"Connection timed out on request to ".concat(n.url));O.code=g,t.channels.error.publish(O)}function v(){u&&(h(),s.socket=setTimeout(()=>m("ESOCKETTIMEDOUT"),u.socket))}function h(g){(g||d||o.readyState>=2&&s.connect)&&clearTimeout(s.connect),s.socket&&clearTimeout(s.socket)}function p(g){if(a)return;h(!0),a=!0,o=null;const O=g||new Error("Network error while attempting to reach ".concat(n.url));O.isNetworkError=!0,O.request=n,e(O)}function w(){return{body:o.response||(o.responseType===""||o.responseType==="text"?o.responseText:""),url:n.url,method:n.method,headers:Mr(o.getAllResponseHeaders()),statusCode:o.status,statusMessage:o.statusText}}function b(){if(!(d||a||l)){if(o.status===0){p(new Error("Unknown XHR error"));return}h(),a=!0,e(null,w())}}};const Lr=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Wr;return Re(t,e)};var Kt={},Hr={get exports(){return Kt},set exports(t){Kt=t}},Vt,pe;function Nr(){if(pe)return Vt;pe=1;var t=1e3,e=t*60,r=e*60,n=r*24,s=n*7,i=n*365.25;Vt=function(a,l){l=l||{};var f=typeof a;if(f==="string"&&a.length>0)return o(a);if(f==="number"&&isFinite(a))return l.long?u(a):c(a);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(a))};function o(a){if(a=String(a),!(a.length>100)){var l=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(a);if(l){var f=parseFloat(l[1]),m=(l[2]||"ms").toLowerCase();switch(m){case"years":case"year":case"yrs":case"yr":case"y":return f*i;case"weeks":case"week":case"w":return f*s;case"days":case"day":case"d":return f*n;case"hours":case"hour":case"hrs":case"hr":case"h":return f*r;case"minutes":case"minute":case"mins":case"min":case"m":return f*e;case"seconds":case"second":case"secs":case"sec":case"s":return f*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return f;default:return}}}}function c(a){var l=Math.abs(a);return l>=n?Math.round(a/n)+"d":l>=r?Math.round(a/r)+"h":l>=e?Math.round(a/e)+"m":l>=t?Math.round(a/t)+"s":a+"ms"}function u(a){var l=Math.abs(a);return l>=n?d(a,l,n,"day"):l>=r?d(a,l,r,"hour"):l>=e?d(a,l,e,"minute"):l>=t?d(a,l,t,"second"):a+" ms"}function d(a,l,f,m){var v=l>=f*1.5;return Math.round(a/f)+" "+m+(v?"s":"")}return Vt}function zr(t){r.debug=r,r.default=r,r.coerce=u,r.disable=i,r.enable=s,r.enabled=o,r.humanize=Nr(),r.destroy=d,Object.keys(t).forEach(a=>{r[a]=t[a]}),r.names=[],r.skips=[],r.formatters={};function e(a){let l=0;for(let f=0;f<a.length;f++)l=(l<<5)-l+a.charCodeAt(f),l|=0;return r.colors[Math.abs(l)%r.colors.length]}r.selectColor=e;function r(a){let l,f=null,m,v;function h(...p){if(!h.enabled)return;const w=h,b=Number(new Date),g=b-(l||b);w.diff=g,w.prev=l,w.curr=b,l=b,p[0]=r.coerce(p[0]),typeof p[0]!="string"&&p.unshift("%O");let O=0;p[0]=p[0].replace(/%([a-zA-Z%])/g,(z,Z)=>{if(z==="%%")return"%";O++;const dt=r.formatters[Z];if(typeof dt=="function"){const ht=p[O];z=dt.call(w,ht),p.splice(O,1),O--}return z}),r.formatArgs.call(w,p),(w.log||r.log).apply(w,p)}return h.namespace=a,h.useColors=r.useColors(),h.color=r.selectColor(a),h.extend=n,h.destroy=r.destroy,Object.defineProperty(h,"enabled",{enumerable:!0,configurable:!1,get:()=>f!==null?f:(m!==r.namespaces&&(m=r.namespaces,v=r.enabled(a)),v),set:p=>{f=p}}),typeof r.init=="function"&&r.init(h),h}function n(a,l){const f=r(this.namespace+(typeof l>"u"?":":l)+a);return f.log=this.log,f}function s(a){r.save(a),r.namespaces=a,r.names=[],r.skips=[];let l;const f=(typeof a=="string"?a:"").split(/[\s,]+/),m=f.length;for(l=0;l<m;l++)f[l]&&(a=f[l].replace(/\*/g,".*?"),a[0]==="-"?r.skips.push(new RegExp("^"+a.slice(1)+"$")):r.names.push(new RegExp("^"+a+"$")))}function i(){const a=[...r.names.map(c),...r.skips.map(c).map(l=>"-"+l)].join(",");return r.enable(""),a}function o(a){if(a[a.length-1]==="*")return!0;let l,f;for(l=0,f=r.skips.length;l<f;l++)if(r.skips[l].test(a))return!1;for(l=0,f=r.names.length;l<f;l++)if(r.names[l].test(a))return!0;return!1}function c(a){return a.toString().substring(2,a.toString().length-2).replace(/\.\*\?$/,"*")}function u(a){return a instanceof Error?a.stack||a.message:a}function d(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}var Br=zr;(function(t,e){e.formatArgs=n,e.save=s,e.load=i,e.useColors=r,e.storage=o(),e.destroy=(()=>{let u=!1;return()=>{u||(u=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function n(u){if(u[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+u[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const d="color: "+this.color;u.splice(1,0,d,"color: inherit");let a=0,l=0;u[0].replace(/%[a-zA-Z%]/g,f=>{f!=="%%"&&(a++,f==="%c"&&(l=a))}),u.splice(l,0,d)}e.log=console.debug||console.log||(()=>{});function s(u){try{u?e.storage.setItem("debug",u):e.storage.removeItem("debug")}catch{}}function i(){let u;try{u=e.storage.getItem("debug")}catch{}return!u&&typeof process<"u"&&"env"in process&&(u={}.DEBUG),u}function o(){try{return localStorage}catch{}}t.exports=Br(e);const{formatters:c}=t.exports;c.j=function(u){try{return JSON.stringify(u)}catch(d){return"[UnexpectedJSONParseError]: "+d.message}}})(Hr,Kt);/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function ye(t){return Object.prototype.toString.call(t)==="[object Object]"}function Vr(t){var e,r;return ye(t)===!1?!1:(e=t.constructor,e===void 0?!0:(r=e.prototype,!(ye(r)===!1||r.hasOwnProperty("isPrototypeOf")===!1)))}const Gr=typeof Buffer>"u"?()=>!1:t=>Buffer.isBuffer(t),Jr=["boolean","string","number"];function Yr(){return{processOptions:t=>{const e=t.body;return!e||!(!(typeof e.pipe=="function")&&!Gr(e)&&(Jr.indexOf(typeof e)!==-1||Array.isArray(e)||Vr(e)))?t:Object.assign({},t,{body:JSON.stringify(t.body),headers:Object.assign({},t.headers,{"Content-Type":"application/json"})})}}}function Qr(t){return{onResponse:r=>{const n=r.headers["content-type"]||"",s=t&&t.force||n.indexOf("application/json")!==-1;return!r.body||!n||!s?r:Object.assign({},r,{body:e(r.body)})},processOptions:r=>Object.assign({},r,{headers:Object.assign({Accept:"application/json"},r.headers)})};function e(r){try{return JSON.parse(r)}catch(n){throw n.message="Failed to parsed response body as JSON: ".concat(n.message),n}}}let G;typeof globalThis<"u"?G=globalThis:typeof window<"u"?G=window:typeof global<"u"?G=global:typeof self<"u"?G=self:G={};var Xr=G;function Kr(){const e=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).implementation||Xr.Observable;if(!e)throw new Error("`Observable` is not available in global scope, and no implementation was passed");return{onReturn:(r,n)=>new e(s=>(r.error.subscribe(i=>s.error(i)),r.progress.subscribe(i=>s.next(Object.assign({type:"progress"},i))),r.response.subscribe(i=>{s.next(Object.assign({type:"response"},i)),s.complete()}),r.request.publish(n),()=>r.abort.publish()))}}function Zr(){return{onRequest:t=>{if(t.adapter!=="xhr")return;const e=t.request,r=t.context;"upload"in e&&"onprogress"in e.upload&&(e.upload.onprogress=n("upload")),"onprogress"in e&&(e.onprogress=n("download"));function n(s){return i=>{const o=i.lengthComputable?i.loaded/i.total*100:-1;r.channels.progress.publish({stage:s,percent:o,total:i.total,loaded:i.loaded,lengthComputable:i.lengthComputable})}}}}}class tn{constructor(e){this.__CANCEL__=!0,this.message=e}toString(){return"Cancel".concat(this.message?": ".concat(this.message):"")}}const xe=class{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let e=null;this.promise=new Promise(r=>{e=r}),t(r=>{this.reason||(this.reason=new tn(r),e(this.reason))})}};let en=xe;en.source=()=>{let t;return{token:new xe(r=>{t=r}),cancel:t}};var Fe=(t,e,r)=>r.method!=="GET"&&r.method!=="HEAD"?!1:t.isNetworkError||!1;const rn=t=>t!==null&&typeof t=="object"&&typeof t.pipe=="function";var nn=t=>{const e=t.maxRetries||5,r=t.retryDelay||sn,n=t.shouldRetry;return{onError:(s,i)=>{const o=i.options,c=o.maxRetries||e,u=o.shouldRetry||n,d=o.attemptNumber||0;if(rn(o.body)||!u(s,d,o)||d>=c)return s;const a=Object.assign({},i,{options:Object.assign({},o,{attemptNumber:d+1})});return setTimeout(()=>i.channels.request.publish(a),r(d)),null}}};function sn(t){return 100*Math.pow(2,t)+Math.random()*100}const se=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return nn({shouldRetry:Fe,...t})};se.shouldRetry=Fe;var Zt=function(t,e){return Zt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},Zt(t,e)};function ie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Zt(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function ge(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Tt(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),s,i=[],o;try{for(;(e===void 0||e-- >0)&&!(s=n.next()).done;)i.push(s.value)}catch(c){o={error:c}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return i}function Rt(t,e,r){if(r||arguments.length===2)for(var n=0,s=e.length,i;n<s;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))}function x(t){return typeof t=="function"}function qe(t){var e=function(n){Error.call(n),n.stack=new Error().stack},r=t(e);return r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r}var Gt=qe(function(t){return function(r){t(this),this.message=r?r.length+` errors occurred during unsubscription:
`+r.map(function(n,s){return s+1+") "+n.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=r}});function me(t,e){if(t){var r=t.indexOf(e);0<=r&&t.splice(r,1)}}var oe=function(){function t(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return t.prototype.unsubscribe=function(){var e,r,n,s,i;if(!this.closed){this.closed=!0;var o=this._parentage;if(o)if(this._parentage=null,Array.isArray(o))try{for(var c=ge(o),u=c.next();!u.done;u=c.next()){var d=u.value;d.remove(this)}}catch(h){e={error:h}}finally{try{u&&!u.done&&(r=c.return)&&r.call(c)}finally{if(e)throw e.error}}else o.remove(this);var a=this.initialTeardown;if(x(a))try{a()}catch(h){i=h instanceof Gt?h.errors:[h]}var l=this._finalizers;if(l){this._finalizers=null;try{for(var f=ge(l),m=f.next();!m.done;m=f.next()){var v=m.value;try{ve(v)}catch(h){i=i??[],h instanceof Gt?i=Rt(Rt([],Tt(i)),Tt(h.errors)):i.push(h)}}}catch(h){n={error:h}}finally{try{m&&!m.done&&(s=f.return)&&s.call(f)}finally{if(n)throw n.error}}}if(i)throw new Gt(i)}},t.prototype.add=function(e){var r;if(e&&e!==this)if(this.closed)ve(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(r=this._finalizers)!==null&&r!==void 0?r:[]).push(e)}},t.prototype._hasParent=function(e){var r=this._parentage;return r===e||Array.isArray(r)&&r.includes(e)},t.prototype._addParent=function(e){var r=this._parentage;this._parentage=Array.isArray(r)?(r.push(e),r):r?[r,e]:e},t.prototype._removeParent=function(e){var r=this._parentage;r===e?this._parentage=null:Array.isArray(r)&&me(r,e)},t.prototype.remove=function(e){var r=this._finalizers;r&&me(r,e),e instanceof t&&e._removeParent(this)},t.EMPTY=function(){var e=new t;return e.closed=!0,e}(),t}();oe.EMPTY;function ke(t){return t instanceof oe||t&&"closed"in t&&x(t.remove)&&x(t.add)&&x(t.unsubscribe)}function ve(t){x(t)?t():t.unsubscribe()}var Pe={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},te={setTimeout:function(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var s=te.delegate;return s!=null&&s.setTimeout?s.setTimeout.apply(s,Rt([t,e],Tt(r))):setTimeout.apply(void 0,Rt([t,e],Tt(r)))},clearTimeout:function(t){var e=te.delegate;return((e==null?void 0:e.clearTimeout)||clearTimeout)(t)},delegate:void 0};function on(t){te.setTimeout(function(){throw t})}function we(){}function an(t){t()}var ae=function(t){ie(e,t);function e(r){var n=t.call(this)||this;return n.isStopped=!1,r?(n.destination=r,ke(r)&&r.add(n)):n.destination=fn,n}return e.create=function(r,n,s){return new ee(r,n,s)},e.prototype.next=function(r){this.isStopped||this._next(r)},e.prototype.error=function(r){this.isStopped||(this.isStopped=!0,this._error(r))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(r){this.destination.next(r)},e.prototype._error=function(r){try{this.destination.error(r)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(oe),cn=Function.prototype.bind;function Jt(t,e){return cn.call(t,e)}var un=function(){function t(e){this.partialObserver=e}return t.prototype.next=function(e){var r=this.partialObserver;if(r.next)try{r.next(e)}catch(n){pt(n)}},t.prototype.error=function(e){var r=this.partialObserver;if(r.error)try{r.error(e)}catch(n){pt(n)}else pt(e)},t.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(r){pt(r)}},t}(),ee=function(t){ie(e,t);function e(r,n,s){var i=t.call(this)||this,o;if(x(r)||!r)o={next:r??void 0,error:n??void 0,complete:s??void 0};else{var c;i&&Pe.useDeprecatedNextContext?(c=Object.create(r),c.unsubscribe=function(){return i.unsubscribe()},o={next:r.next&&Jt(r.next,c),error:r.error&&Jt(r.error,c),complete:r.complete&&Jt(r.complete,c)}):o=r}return i.destination=new un(o),i}return e}(ae);function pt(t){on(t)}function ln(t){throw t}var fn={closed:!0,next:we,error:ln,complete:we},dn=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function hn(t){return t}function pn(t){return t.length===0?hn:t.length===1?t[0]:function(r){return t.reduce(function(n,s){return s(n)},r)}}var ct=function(){function t(e){e&&(this._subscribe=e)}return t.prototype.lift=function(e){var r=new t;return r.source=this,r.operator=e,r},t.prototype.subscribe=function(e,r,n){var s=this,i=gn(e)?e:new ee(e,r,n);return an(function(){var o=s,c=o.operator,u=o.source;i.add(c?c.call(i,u):u?s._subscribe(i):s._trySubscribe(i))}),i},t.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(r){e.error(r)}},t.prototype.forEach=function(e,r){var n=this;return r=be(r),new r(function(s,i){var o=new ee({next:function(c){try{e(c)}catch(u){i(u),o.unsubscribe()}},error:i,complete:s});n.subscribe(o)})},t.prototype._subscribe=function(e){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(e)},t.prototype[dn]=function(){return this},t.prototype.pipe=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return pn(e)(this)},t.prototype.toPromise=function(e){var r=this;return e=be(e),new e(function(n,s){var i;r.subscribe(function(o){return i=o},function(o){return s(o)},function(){return n(i)})})},t.create=function(e){return new t(e)},t}();function be(t){var e;return(e=t??Pe.Promise)!==null&&e!==void 0?e:Promise}function yn(t){return t&&x(t.next)&&x(t.error)&&x(t.complete)}function gn(t){return t&&t instanceof ae||yn(t)&&ke(t)}function mn(t){return x(t==null?void 0:t.lift)}function Me(t){return function(e){if(mn(e))return e.lift(function(r){try{return t(r,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ie(t,e,r,n,s){return new vn(t,e,r,n,s)}var vn=function(t){ie(e,t);function e(r,n,s,i,o,c){var u=t.call(this,r)||this;return u.onFinalize=o,u.shouldUnsubscribe=c,u._next=n?function(d){try{n(d)}catch(a){r.error(a)}}:t.prototype._next,u._error=i?function(d){try{i(d)}catch(a){r.error(a)}finally{this.unsubscribe()}}:t.prototype._error,u._complete=s?function(){try{s()}catch(d){r.error(d)}finally{this.unsubscribe()}}:t.prototype._complete,u}return e.prototype.unsubscribe=function(){var r;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;t.prototype.unsubscribe.call(this),!n&&((r=this.onFinalize)===null||r===void 0||r.call(this))}},e}(ae),wn=qe(function(t){return function(){t(this),this.name="EmptyError",this.message="no elements in sequence"}});function E(t,e){var r=typeof e=="object";return new Promise(function(n,s){var i=!1,o;t.subscribe({next:function(c){o=c,i=!0},error:s,complete:function(){i?n(o):r?n(e.defaultValue):s(new wn)}})})}function N(t,e){return Me(function(r,n){var s=0;r.subscribe(Ie(n,function(i){n.next(t.call(e,i,s++))}))})}function ut(t,e){return Me(function(r,n){var s=0;r.subscribe(Ie(n,function(i){return t.call(e,i,s++)&&n.next(i)}))})}var $e=[];const Yt=5;class bn extends Error{constructor(e){const r=De(e);super(r.message),this.statusCode=400,Object.assign(this,r)}}class Cn extends Error{constructor(e){const r=De(e);super(r.message),this.statusCode=500,Object.assign(this,r)}}function De(t){const e=t.body,r={response:t,statusCode:t.statusCode,responseBody:On(e,t),message:"",details:void 0};if(e.error&&e.message)return r.message="".concat(e.error," - ").concat(e.message),r;if(_n(e)){const n=e.error.items||[],s=n.slice(0,Yt).map(o=>{var c;return(c=o.error)==null?void 0:c.description}).filter(Boolean);let i=s.length?`:
- `.concat(s.join(`
- `)):"";return n.length>Yt&&(i+=`
...and `.concat(n.length-Yt," more")),r.message="".concat(e.error.description).concat(i),r.details=e.error,r}return e.error&&e.error.description?(r.message=e.error.description,r.details=e.error,r):(r.message=e.error||e.message||En(t),r)}function _n(t){return Ce(t)&&Ce(t.error)&&t.error.type==="mutationError"&&typeof t.error.description=="string"}function Ce(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}function En(t){const e=t.statusMessage?" ".concat(t.statusMessage):"";return"".concat(t.method,"-request to ").concat(t.url," resulted in HTTP ").concat(t.statusCode).concat(e)}function On(t,e){return(e.headers["content-type"]||"").toLowerCase().indexOf("application/json")!==-1?JSON.stringify(t,null,2):t}const Sn={onResponse:t=>{if(t.statusCode>=500)throw new Cn(t);if(t.statusCode>=400)throw new bn(t);return t}},Tn={onResponse:t=>{const e=t.headers["x-sanity-warning"];return(Array.isArray(e)?e:[e]).filter(Boolean).forEach(n=>console.warn(n)),t}};function je(t,e){let{maxRetries:r=5,retryDelay:n}=e;const s=Lr([r>0?se({retryDelay:n,maxRetries:r,shouldRetry:Rn}):{},...t,Tn,Yr(),Qr(),Zr(),Sn,Kr({implementation:ct})]);function i(o){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:s)({maxRedirects:0,...o})}return i.defaultRequester=s,i}function Rn(t,e,r){const n=r.method==="GET"||r.method==="HEAD",s=r.uri.startsWith("/data/query"),i=t.response&&(t.response.statusCode===429||t.response.statusCode===502||t.response.statusCode===503);return(n||s)&&i?!0:se.shouldRetry(t,e,r)}const An="X-Sanity-Project-ID";function xn(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r={},n=e.token||t.token;n&&(r.Authorization="Bearer ".concat(n)),!e.useGlobalApi&&!t.useProjectHostname&&t.projectId&&(r[An]=t.projectId);const s=!!(typeof e.withCredentials>"u"?t.token||t.withCredentials:e.withCredentials),i=typeof e.timeout>"u"?t.timeout:e.timeout;return Object.assign({},e,{headers:Object.assign({},r,e.headers||{}),timeout:typeof i>"u"?5*60*1e3:i,proxy:e.proxy||t.proxy,json:!0,withCredentials:s})}function Ue(t){if(typeof t=="string"||Array.isArray(t))return{id:t};if(typeof t=="object"&&t!==null&&"query"in t&&typeof t.query=="string")return"params"in t&&typeof t.params=="object"&&t.params!==null?{query:t.query,params:t.params}:{query:t.query};const e=["* Document ID (<docId>)","* Array of document IDs","* Object containing `query`"].join(`
`);throw new Error(`Unknown selection - must be one of:

`.concat(e))}const _e=["image","file"],Ee=["before","after","replace"],We=t=>{if(!/^(~[a-z0-9]{1}[-\w]{0,63}|[a-z0-9]{1}[-\w]{0,63})$/.test(t))throw new Error("Datasets can only contain lowercase characters, numbers, underscores and dashes, and start with tilde, and be maximum 64 characters")},Fn=t=>{if(!/^[-a-z0-9]+$/i.test(t))throw new Error("`projectId` can only contain only a-z, 0-9 and dashes")},qn=t=>{if(_e.indexOf(t)===-1)throw new Error("Invalid asset type: ".concat(t,". Must be one of ").concat(_e.join(", ")))},it=(t,e)=>{if(e===null||typeof e!="object"||Array.isArray(e))throw new Error("".concat(t,"() takes an object of properties"))},Le=(t,e)=>{if(typeof e!="string"||!/^[a-z0-9_][a-z0-9_.-]{0,127}$/i.test(e)||e.includes(".."))throw new Error("".concat(t,'(): "').concat(e,'" is not a valid document ID'))},At=(t,e)=>{if(!e._id)throw new Error("".concat(t,'() requires that the document contains an ID ("_id" property)'));Le(t,e._id)},kn=(t,e,r)=>{const n="insert(at, selector, items)";if(Ee.indexOf(t)===-1){const s=Ee.map(i=>'"'.concat(i,'"')).join(", ");throw new Error("".concat(n,' takes an "at"-argument which is one of: ').concat(s))}if(typeof e!="string")throw new Error("".concat(n,' takes a "selector"-argument which must be a string'));if(!Array.isArray(r))throw new Error("".concat(n,' takes an "items"-argument which must be an array'))},He=t=>{if(!t.dataset)throw new Error("`dataset` must be provided to perform queries");return t.dataset||""},Ne=t=>{if(typeof t!="string"||!/^[a-z0-9._-]{1,75}$/i.test(t))throw new Error("Tag can only contain alphanumeric characters, underscores, dashes and dots, and be between one and 75 characters long.");return t},ze=t=>{let{query:e,params:r={},options:n={}}=t;const s=new URLSearchParams,{tag:i,...o}=n;i&&s.set("tag",i),s.set("query",e);for(const[c,u]of Object.entries(r))s.set("$".concat(c),JSON.stringify(u));for(const[c,u]of Object.entries(o))u&&s.set(c,"".concat(u));return"?".concat(s)};var Be=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},Q=(t,e,r)=>(Be(t,e,"read from private field"),r?r.call(t):e.get(t)),Ve=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},Ge=(t,e,r,n)=>(Be(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),J,Y;class Je{constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.selection=e,this.operations=r}set(e){return this._assign("set",e)}setIfMissing(e){return this._assign("setIfMissing",e)}diffMatchPatch(e){return it("diffMatchPatch",e),this._assign("diffMatchPatch",e)}unset(e){if(!Array.isArray(e))throw new Error("unset(attrs) takes an array of attributes to unset, non-array given");return this.operations=Object.assign({},this.operations,{unset:e}),this}inc(e){return this._assign("inc",e)}dec(e){return this._assign("dec",e)}insert(e,r,n){return kn(e,r,n),this._assign("insert",{[e]:r,items:n})}append(e,r){return this.insert("after","".concat(e,"[-1]"),r)}prepend(e,r){return this.insert("before","".concat(e,"[0]"),r)}splice(e,r,n,s){const i=typeof n>"u"||n===-1,o=r<0?r-1:r,c=i?-1:Math.max(0,r+n),u=o<0&&c>=0?"":c,d="".concat(e,"[").concat(o,":").concat(u,"]");return this.insert("replace",d,s||[])}ifRevisionId(e){return this.operations.ifRevisionID=e,this}serialize(){return{...Ue(this.selection),...this.operations}}toJSON(){return this.serialize()}reset(){return this.operations={},this}_assign(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return it(e,r),this.operations=Object.assign({},this.operations,{[e]:Object.assign({},n&&this.operations[e]||{},r)}),this}_set(e,r){return this._assign(e,r,!1)}}const Ye=class extends Je{constructor(t,e,r){super(t,e),Ve(this,J,void 0),Ge(this,J,r)}clone(){return new Ye(this.selection,{...this.operations},Q(this,J))}commit(t){if(!Q(this,J))throw new Error("No `client` passed to patch, either provide one or pass the patch to a clients `mutate()` method");const e=typeof this.selection=="string",r=Object.assign({returnFirst:e,returnDocuments:!0},t);return Q(this,J).mutate({patch:this.serialize()},r)}};let ot=Ye;J=new WeakMap;const Qe=class extends Je{constructor(t,e,r){super(t,e),Ve(this,Y,void 0),Ge(this,Y,r)}clone(){return new Qe(this.selection,{...this.operations},Q(this,Y))}commit(t){if(!Q(this,Y))throw new Error("No `client` passed to patch, either provide one or pass the patch to a clients `mutate()` method");const e=typeof this.selection=="string",r=Object.assign({returnFirst:e,returnDocuments:!0},t);return Q(this,Y).mutate({patch:this.serialize()},r)}};let at=Qe;Y=new WeakMap;var Xe=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},k=(t,e,r)=>(Xe(t,e,"read from private field"),r?r.call(t):e.get(t)),Ke=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},Ze=(t,e,r,n)=>(Xe(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),I,$;const tr={returnDocuments:!1};class er{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=arguments.length>1?arguments[1]:void 0;this.operations=e,this.trxId=r}create(e){return it("create",e),this._add({create:e})}createIfNotExists(e){const r="createIfNotExists";return it(r,e),At(r,e),this._add({[r]:e})}createOrReplace(e){const r="createOrReplace";return it(r,e),At(r,e),this._add({[r]:e})}delete(e){return Le("delete",e),this._add({delete:{id:e}})}transactionId(e){return e?(this.trxId=e,this):this.trxId}serialize(){return[...this.operations]}toJSON(){return this.serialize()}reset(){return this.operations=[],this}_add(e){return this.operations.push(e),this}}const rr=class extends er{constructor(t,e,r){super(t,r),Ke(this,I,void 0),Ze(this,I,e)}clone(){return new rr([...this.operations],k(this,I),this.trxId)}commit(t){if(!k(this,I))throw new Error("No `client` passed to transaction, either provide one or pass the transaction to a clients `mutate()` method");return k(this,I).mutate(this.serialize(),Object.assign({transactionId:this.trxId},tr,t||{}))}patch(t,e){const r=typeof e=="function";if(typeof t!="string"&&t instanceof at)return this._add({patch:t.serialize()});if(r){const s=e(new at(t,{},k(this,I)));if(!(s instanceof at))throw new Error("function passed to `patch()` must return the patch");return this._add({patch:s.serialize()})}return this._add({patch:{id:t,...e}})}};let nr=rr;I=new WeakMap;const sr=class extends er{constructor(t,e,r){super(t,r),Ke(this,$,void 0),Ze(this,$,e)}clone(){return new sr([...this.operations],k(this,$),this.trxId)}commit(t){if(!k(this,$))throw new Error("No `client` passed to transaction, either provide one or pass the transaction to a clients `mutate()` method");return k(this,$).mutate(this.serialize(),Object.assign({transactionId:this.trxId},tr,t||{}))}patch(t,e){const r=typeof e=="function";if(typeof t!="string"&&t instanceof ot)return this._add({patch:t.serialize()});if(r){const s=e(new ot(t,{},k(this,$)));if(!(s instanceof ot))throw new Error("function passed to `patch()` must return the patch");return this._add({patch:s.serialize()})}return this._add({patch:{id:t,...e}})}};let ir=sr;$=new WeakMap;const Pn=(t,e)=>t===!1?void 0:typeof t>"u"?e:t,Mn=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{dryRun:t.dryRun,returnIds:!0,returnDocuments:Pn(t.returnDocuments,!0),visibility:t.visibility||"sync",autoGenerateArrayKeys:t.autoGenerateArrayKeys,skipCrossDatasetReferenceValidation:t.skipCrossDatasetReferenceValidation}},ce=t=>t.type==="response",In=t=>t.body,$n=(t,e)=>t.reduce((r,n)=>(r[e(n)]=n,r),Object.create(null)),Dn=11264;function or(t,e,r,n){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};const i=s.filterResponse===!1?o=>o:o=>o.result;return lt(t,e,"query",{query:r,params:n},s).pipe(N(i))}function ar(t,e,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const s={uri:K(t,"doc",r),json:!0,tag:n.tag};return ft(t,e,s).pipe(ut(ce),N(i=>i.body.documents&&i.body.documents[0]))}function cr(t,e,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const s={uri:K(t,"doc",r.join(",")),json:!0,tag:n.tag};return ft(t,e,s).pipe(ut(ce),N(i=>{const o=$n(i.body.documents||[],c=>c._id);return r.map(c=>o[c]||null)}))}function ur(t,e,r,n){return At("createIfNotExists",r),Ht(t,e,r,"createIfNotExists",n)}function lr(t,e,r,n){return At("createOrReplace",r),Ht(t,e,r,"createOrReplace",n)}function fr(t,e,r,n){return lt(t,e,"mutate",{mutations:[{delete:Ue(r)}]},n)}function dr(t,e,r,n){let s;r instanceof at||r instanceof ot?s={patch:r.serialize()}:r instanceof nr||r instanceof ir?s=r.serialize():s=r;const i=Array.isArray(s)?s:[s],o=n&&n.transactionId||void 0;return lt(t,e,"mutate",{mutations:i,transactionId:o},n)}function lt(t,e,r,n){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};const i=r==="mutate",o=r==="query",c=i?"":ze(n),u=!i&&c.length<Dn,d=u?c:"",a=s.returnFirst,{timeout:l,token:f,tag:m,headers:v}=s,h=K(t,r,d),p={method:u?"GET":"POST",uri:h,json:!0,body:u?void 0:n,query:i&&Mn(s),timeout:l,headers:v,token:f,tag:m,canUseCdn:o,signal:s.signal};return ft(t,e,p).pipe(ut(ce),N(In),N(w=>{if(!i)return w;const b=w.results||[];if(s.returnDocuments)return a?b[0]&&b[0].document:b.map(M=>M.document);const g=a?"documentId":"documentIds",O=a?b[0]&&b[0].id:b.map(M=>M.id);return{transactionId:w.transactionId,results:b,[g]:O}}))}function Ht(t,e,r,n){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};const i={[n]:r},o=Object.assign({returnFirst:!0,returnDocuments:!0},s);return lt(t,e,"mutate",{mutations:[i]},o)}function ft(t,e,r){const n=r.url||r.uri,s=t.config(),i=typeof r.canUseCdn>"u"?["GET","HEAD"].indexOf(r.method||"GET")>=0&&n.indexOf("/data/")===0:r.canUseCdn,o=s.useCdn&&i,c=r.tag&&s.requestTagPrefix?[s.requestTagPrefix,r.tag].join("."):r.tag||s.requestTagPrefix;c&&(r.query={tag:Ne(c),...r.query}),s.resultSourceMap&&(r.query={resultSourceMap:!0,...r.query});const u=xn(s,Object.assign({},r,{url:ue(t,n,o)})),d=new ct(a=>e(u,s.requester).subscribe(a));return r.signal?d.pipe(jn(r.signal)):d}function R(t,e,r){return ft(t,e,r).pipe(ut(s=>s.type==="response"),N(s=>s.body))}function K(t,e,r){const n=t.config(),s=He(n),i="/".concat(e,"/").concat(s),o=r?"".concat(i,"/").concat(r):i;return"/data".concat(o).replace(/\/($|\?)/,"$1")}function ue(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const{url:n,cdnUrl:s}=t.config(),i=r?s:n;return"".concat(i,"/").concat(e.replace(/^\//,""))}function jn(t){return e=>new ct(r=>{const n=()=>r.error(Wn(t));if(t&&t.aborted){n();return}const s=e.subscribe(r);return t.addEventListener("abort",n),()=>{t.removeEventListener("abort",n),s.unsubscribe()}})}const Un=!!globalThis.DOMException;function Wn(t){var e,r;if(Un)return new DOMException((e=t==null?void 0:t.reason)!=null?e:"The operation was aborted.","AbortError");const n=new Error((r=t==null?void 0:t.reason)!=null?r:"The operation was aborted.");return n.name="AbortError",n}var hr=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},xt=(t,e,r)=>(hr(t,e,"read from private field"),r?r.call(t):e.get(t)),Ft=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},qt=(t,e,r,n)=>(hr(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),vt,wt,bt,Ct;class Ln{constructor(e,r){Ft(this,vt,void 0),Ft(this,wt,void 0),qt(this,vt,e),qt(this,wt,r)}upload(e,r,n){return pr(xt(this,vt),xt(this,wt),e,r,n)}}vt=new WeakMap;wt=new WeakMap;class Hn{constructor(e,r){Ft(this,bt,void 0),Ft(this,Ct,void 0),qt(this,bt,e),qt(this,Ct,r)}upload(e,r,n){const s=pr(xt(this,bt),xt(this,Ct),e,r,n);return E(s.pipe(ut(i=>i.type==="response"),N(i=>i.body.document)))}}bt=new WeakMap;Ct=new WeakMap;function pr(t,e,r,n){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};qn(r);let i=s.extract||void 0;i&&!i.length&&(i=["none"]);const o=He(t.config()),c=r==="image"?"images":"files",u=Nn(s,n),{tag:d,label:a,title:l,description:f,creditLine:m,filename:v,source:h}=u,p={label:a,title:l,description:f,filename:v,meta:i,creditLine:m};return h&&(p.sourceId=h.id,p.sourceName=h.name,p.sourceUrl=h.url),ft(t,e,{tag:d,method:"POST",timeout:u.timeout||0,uri:"/assets/".concat(c,"/").concat(o),headers:u.contentType?{"Content-Type":u.contentType}:{},query:p,body:n})}function Nn(t,e){return typeof File>"u"||!(e instanceof File)?t:Object.assign({filename:t.preserveFilename===!1?void 0:e.name,contentType:e.type},t)}const zn="https://www.sanity.io/help/";function le(t){return zn+t}function Bn(t){let e=!1,r;return function(){return e||(r=t(...arguments),e=!0),r}}const fe=t=>Bn(function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return console.warn(t.join(" "),...r)}),Vn=fe(["Since you haven't set a value for `useCdn`, we will deliver content using our","global, edge-cached API-CDN. If you wish to have content delivered faster, set","`useCdn: false` to use the Live API. Note: You may incur higher costs using the live API."]),Gn=fe(["You have configured Sanity client to use a token in the browser. This may cause unintentional security issues.","See ".concat(le("js-client-browser-token")," for more information and how to hide this warning.")]),Jn=fe(["Using the Sanity client without specifying an API version is deprecated.","See ".concat(le("js-client-api-version"))]),Yn="apicdn.sanity.io",kt={apiHost:"https://api.sanity.io",apiVersion:"1",useProjectHostname:!0},Qn=["localhost","127.0.0.1","0.0.0.0"],Xn=t=>Qn.indexOf(t)!==-1,Kn=function(e){if(e==="1"||e==="X")return;const r=new Date(e);if(!(/^\d{4}-\d{2}-\d{2}$/.test(e)&&r instanceof Date&&r.getTime()>0))throw new Error("Invalid API version string, expected `1` or date in format `YYYY-MM-DD`")},yr=(t,e)=>{const r=Object.assign({},e,t);r.apiVersion||Jn();const n=Object.assign({},kt,r),s=n.useProjectHostname;if(typeof Promise>"u"){const l=le("js-client-promise-polyfill");throw new Error("No native Promise-implementation found, polyfill needed - see ".concat(l))}if(s&&!n.projectId)throw new Error("Configuration must contain `projectId`");const i=typeof window<"u"&&window.location&&window.location.hostname,o=i&&Xn(window.location.hostname);i&&o&&n.token&&n.ignoreBrowserTokenWarning!==!0?Gn():typeof n.useCdn>"u"&&Vn(),s&&Fn(n.projectId),n.dataset&&We(n.dataset),"requestTagPrefix"in n&&(n.requestTagPrefix=n.requestTagPrefix?Ne(n.requestTagPrefix).replace(/\.+$/,""):void 0),n.apiVersion="".concat(n.apiVersion).replace(/^v/,""),n.isDefaultApi=n.apiHost===kt.apiHost,n.useCdn=n.useCdn!==!1&&!n.withCredentials,Kn(n.apiVersion);const c=n.apiHost.split("://",2),u=c[0],d=c[1],a=n.isDefaultApi?Yn:d;return n.useProjectHostname?(n.url="".concat(u,"://").concat(n.projectId,".").concat(d,"/v").concat(n.apiVersion),n.cdnUrl="".concat(u,"://").concat(n.projectId,".").concat(a,"/v").concat(n.apiVersion)):(n.url="".concat(n.apiHost,"/v").concat(n.apiVersion),n.cdnUrl=n.url),n};var Zn=(t,e)=>Object.keys(e).concat(Object.keys(t)).reduce((r,n)=>(r[n]=typeof t[n]>"u"?e[n]:t[n],r),{});const ts=(t,e)=>e.reduce((r,n)=>(typeof t[n]>"u"||(r[n]=t[n]),r),{}),es=16e3-1200,rs=["includePreviousRevision","includeResult","visibility","effectFormat","tag"],ns={includeResult:!0};function gr(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{url:n,token:s,withCredentials:i,requestTagPrefix:o}=this.config(),c=r.tag&&o?[o,r.tag].join("."):r.tag,u={...Zn(r,ns),tag:c},d=ts(u,rs),a=ze({query:t,params:e,options:{tag:c,...d}}),l="".concat(n).concat(K(this,"listen",a));if(l.length>es)return new ct(h=>h.error(new Error("Query too large for listener")));const f=u.events?u.events:["mutation"],m=f.indexOf("reconnect")!==-1,v={};return(s||i)&&(v.withCredentials=!0),s&&(v.headers={Authorization:"Bearer ".concat(s)}),new ct(h=>{let p;ht().then(T=>{p=T}).catch(T=>{h.error(T),Nt()});let w,b=!1;function g(){b||(dt(),!b&&p.readyState===p.CLOSED&&(Z(),clearTimeout(w),w=setTimeout(_r,100)))}function O(T){h.error(ss(T))}function M(T){const F=mr(T);return F instanceof Error?h.error(F):h.next(F)}function z(){b=!0,Z(),h.complete()}function Z(){p&&(p.removeEventListener("error",g),p.removeEventListener("channelError",O),p.removeEventListener("disconnect",z),f.forEach(T=>p.removeEventListener(T,M)),p.close())}function dt(){m&&h.next({type:"reconnect"})}async function ht(){const{default:T}=await Er(()=>import("./browser.3bf55d58.js").then(zt=>zt.b),[],import.meta.url),F=new T(l,v);return F.addEventListener("error",g),F.addEventListener("channelError",O),F.addEventListener("disconnect",z),f.forEach(zt=>F.addEventListener(zt,M)),F}function _r(){ht().then(T=>{p=T}).catch(T=>{h.error(T),Nt()})}function Nt(){b=!0,Z()}return Nt})}function mr(t){try{const e=t.data&&JSON.parse(t.data)||{};return Object.assign({type:t.type},e)}catch(e){return e}}function ss(t){if(t instanceof Error)return t;const e=mr(t);return e instanceof Error?e:new Error(is(e))}function is(t){return t.error?t.error.description?t.error.description:typeof t.error=="string"?t.error:JSON.stringify(t.error,null,2):t.message||"Unknown listener error"}var vr=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},S=(t,e,r)=>(vr(t,e,"read from private field"),r?r.call(t):e.get(t)),Pt=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},Mt=(t,e,r,n)=>(vr(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),D,j,U,W;class os{constructor(e,r){Pt(this,D,void 0),Pt(this,j,void 0),Mt(this,D,e),Mt(this,j,r)}create(e,r){return X(S(this,D),S(this,j),"PUT",e,r)}edit(e,r){return X(S(this,D),S(this,j),"PATCH",e,r)}delete(e){return X(S(this,D),S(this,j),"DELETE",e)}list(){return R(S(this,D),S(this,j),{uri:"/datasets"})}}D=new WeakMap;j=new WeakMap;class as{constructor(e,r){Pt(this,U,void 0),Pt(this,W,void 0),Mt(this,U,e),Mt(this,W,r)}create(e,r){return E(X(S(this,U),S(this,W),"PUT",e,r))}edit(e,r){return E(X(S(this,U),S(this,W),"PATCH",e,r))}delete(e){return E(X(S(this,U),S(this,W),"DELETE",e))}list(){return E(R(S(this,U),S(this,W),{uri:"/datasets"}))}}U=new WeakMap;W=new WeakMap;function X(t,e,r,n,s){return We(n),R(t,e,{method:r,uri:"/datasets/".concat(n),body:s})}var wr=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},P=(t,e,r)=>(wr(t,e,"read from private field"),r?r.call(t):e.get(t)),It=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},$t=(t,e,r,n)=>(wr(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),et,rt,nt,st;class cs{constructor(e,r){It(this,et,void 0),It(this,rt,void 0),$t(this,et,e),$t(this,rt,r)}list(){return R(P(this,et),P(this,rt),{uri:"/projects"})}getById(e){return R(P(this,et),P(this,rt),{uri:"/projects/".concat(e)})}}et=new WeakMap;rt=new WeakMap;class us{constructor(e,r){It(this,nt,void 0),It(this,st,void 0),$t(this,nt,e),$t(this,st,r)}list(){return E(R(P(this,nt),P(this,st),{uri:"/projects"}))}getById(e){return E(R(P(this,nt),P(this,st),{uri:"/projects/".concat(e)}))}}nt=new WeakMap;st=new WeakMap;var br=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},Dt=(t,e,r)=>(br(t,e,"read from private field"),r?r.call(t):e.get(t)),jt=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},Ut=(t,e,r,n)=>(br(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),_t,Et,Ot,St;class ls{constructor(e,r){jt(this,_t,void 0),jt(this,Et,void 0),Ut(this,_t,e),Ut(this,Et,r)}getById(e){return R(Dt(this,_t),Dt(this,Et),{uri:"/users/".concat(e)})}}_t=new WeakMap;Et=new WeakMap;class fs{constructor(e,r){jt(this,Ot,void 0),jt(this,St,void 0),Ut(this,Ot,e),Ut(this,St,r)}getById(e){return E(R(Dt(this,Ot),Dt(this,St),{uri:"/users/".concat(e)}))}}Ot=new WeakMap;St=new WeakMap;var Cr=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},y=(t,e,r)=>(Cr(t,e,"read from private field"),r?r.call(t):e.get(t)),Wt=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},Lt=(t,e,r,n)=>(Cr(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),L,_,H,C;const re=class{constructor(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:kt;Wt(this,L,void 0),Wt(this,_,void 0),this.listen=gr,this.config(e),Lt(this,_,t),this.assets=new Ln(this,y(this,_)),this.datasets=new os(this,y(this,_)),this.projects=new cs(this,y(this,_)),this.users=new ls(this,y(this,_))}clone(){return new re(y(this,_),this.config())}config(t){if(t===void 0)return{...y(this,L)};if(y(this,L)&&y(this,L).allowReconfigure===!1)throw new Error("Existing client instance cannot be reconfigured - use `withConfig(newConfig)` to return a new client");return Lt(this,L,yr(t,y(this,L)||{})),this}withConfig(t){return new re(y(this,_),{...this.config(),...t})}fetch(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return or(this,y(this,_),t,e,r)}getDocument(t,e){return ar(this,y(this,_),t,e)}getDocuments(t,e){return cr(this,y(this,_),t,e)}create(t,e){return Ht(this,y(this,_),t,"create",e)}createIfNotExists(t,e){return ur(this,y(this,_),t,e)}createOrReplace(t,e){return lr(this,y(this,_),t,e)}delete(t,e){return fr(this,y(this,_),t,e)}mutate(t,e){return dr(this,y(this,_),t,e)}patch(t,e){return new ot(t,e,this)}transaction(t){return new ir(t,this)}request(t){return R(this,y(this,_),t)}getUrl(t,e){return ue(this,t,e)}getDataUrl(t,e){return K(this,t,e)}};let ds=re;L=new WeakMap;_=new WeakMap;const ne=class{constructor(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:kt;Wt(this,H,void 0),Wt(this,C,void 0),this.listen=gr,this.config(e),Lt(this,C,t),this.assets=new Hn(this,y(this,C)),this.datasets=new as(this,y(this,C)),this.projects=new us(this,y(this,C)),this.users=new fs(this,y(this,C)),this.observable=new ds(t,e)}clone(){return new ne(y(this,C),this.config())}config(t){if(t===void 0)return{...y(this,H)};if(y(this,H)&&y(this,H).allowReconfigure===!1)throw new Error("Existing client instance cannot be reconfigured - use `withConfig(newConfig)` to return a new client");return this.observable&&this.observable.config(t),Lt(this,H,yr(t,y(this,H)||{})),this}withConfig(t){return new ne(y(this,C),{...this.config(),...t})}fetch(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return E(or(this,y(this,C),t,e,r))}getDocument(t,e){return E(ar(this,y(this,C),t,e))}getDocuments(t,e){return E(cr(this,y(this,C),t,e))}create(t,e){return E(Ht(this,y(this,C),t,"create",e))}createIfNotExists(t,e){return E(ur(this,y(this,C),t,e))}createOrReplace(t,e){return E(lr(this,y(this,C),t,e))}delete(t,e){return E(fr(this,y(this,C),t,e))}mutate(t,e){return E(dr(this,y(this,C),t,e))}patch(t,e){return new at(t,e,this)}transaction(t){return new nr(t,this)}request(t){return E(R(this,y(this,C),t))}dataRequest(t,e,r){return E(lt(this,y(this,C),t,e,r))}getUrl(t,e){return ue(this,t,e)}getDataUrl(t,e){return K(this,t,e)}};let hs=ne;H=new WeakMap;C=new WeakMap;const ps=je($e,{});ps.defaultRequester;const Oe=t=>new hs(je($e,{maxRetries:t.maxRetries,retryDelay:t.retryDelay}),t),Se=t=>{const e={...t};let r=Oe(e);return{client:r,config:e,fetch:(...n)=>r.fetch(...n),setToken(n){e.token=n,r=Oe(e)}}},ys=(t="default")=>{var i;const e=Or();if((i=e._sanity)!=null&&i[t])return e._sanity[t];e._sanity=e._sanity||{};const r=Tr(),{additionalClients:n={},...s}=de(r.sanity,r.public.sanity);return!s.disableSmartCdn&&e.$preview&&(s.useCdn=!1),t==="default"?(e._sanity.default=Se(s),e._sanity.default):(e._sanity[t]=Se(de(n[t],s)),e._sanity[t])},vs=(t,e,r={})=>{const{client:n,...s}=r,i=ys(n),o=e?Sr(e):void 0;return o&&(s.watch=s.watch||[],s.watch.push(o)),Rr("sanity-"+Ar(t+(o?JSON.stringify(o):"")),()=>i.fetch(t,o),s)};export{ys as a,vs as u};
